#!/usr/bin/env bash

# Start from the current directory
current_dir="$(pwd)"

# Search up the directory hierarchy
while true; do
    # Check if .venv/bin/activate exists in the current directory
    if [ -f "$current_dir/.venv/bin/activate" ]; then
        echo "$current_dir/.venv/bin/activate"
        exit 0
    fi
    
    # Check if we've reached the root directory
    if [ "$current_dir" = "/" ]; then
        echo "No .venv/bin/activate found in current directory or any parent directory" >&2
        exit 1
    fi
    
    # Move up one directory
    current_dir="$(dirname "$current_dir")"
done
